import{r as n,j as e,M as o,B as h,Q as i}from"./index-B6uXJipu.js";function p(){const[c,t]=n.useState(!1),[s,l]=n.useState({name:"مدير النظام",email:"admin@example.com",phone:"0599123456",password:"",confirmPassword:"",avatar_url:"",role:"admin",twoFactorAuth:!1}),[r,d]=n.useState({password:null,avatar:null}),x=async()=>{try{if(t(!0),s.password&&s.password!==s.confirmPassword){d(a=>({...a,password:"كلمات المرور غير متطابقة"})),i.error("كلمات المرور غير متطابقة"),t(!1);return}setTimeout(()=>{i.success("تم حفظ إعدادات المستخدم بنجاح"),t(!1),l({...s,password:"",confirmPassword:""}),d({password:null,avatar:null})},1e3)}catch(a){console.error("Error saving user settings:",a),i.error("فشل في حفظ إعدادات المستخدم"),t(!1)}},m=({preview:a})=>{d({...r,avatar:null}),a?l({...s,avatar_url:a}):d({...r,avatar:"فشل في تحميل الصورة الشخصية"})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"إعدادات المستخدم"}),e.jsx("button",{onClick:x,disabled:c,className:`bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 ${c?"opacity-70 cursor-not-allowed":""}`,children:c?"جاري الحفظ...":"حفظ التغييرات"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"المعلومات الشخصية"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الصورة الشخصية"}),e.jsx(o,{type:"image",preview:s.avatar_url,onUpload:m,storeInSupabase:!0,bucket:h.PROFILES}),r.avatar&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.avatar})]}),e.jsxs("div",{className:"md:col-span-2 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["الاسم ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",value:s.name,onChange:a=>l({...s,name:a.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["البريد الإلكتروني ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"email",value:s.email,onChange:a=>l({...s,email:a.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"رقم الهاتف"}),e.jsx("input",{type:"tel",value:s.phone,onChange:a=>l({...s,phone:a.target.value}),className:"w-full border rounded-md px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الصلاحية"}),e.jsxs("select",{value:s.role,onChange:a=>l({...s,role:a.target.value}),className:"w-full border rounded-md px-3 py-2",disabled:!0,children:[e.jsx("option",{value:"admin",children:"مدير"}),e.jsx("option",{value:"editor",children:"محرر"}),e.jsx("option",{value:"viewer",children:"مشاهد"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"لا يمكن تغيير صلاحيات المستخدم من هنا."})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"أمان الحساب"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"كلمة المرور الجديدة"}),e.jsx("input",{type:"password",value:s.password,onChange:a=>l({...s,password:a.target.value}),className:"w-full border rounded-md px-3 py-2",placeholder:"اتركه فارغاً إذا كنت لا ترغب في التغيير"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"تأكيد كلمة المرور الجديدة"}),e.jsx("input",{type:"password",value:s.confirmPassword,onChange:a=>l({...s,confirmPassword:a.target.value}),className:"w-full border rounded-md px-3 py-2",placeholder:"تأكيد كلمة المرور الجديدة"}),r.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.password})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:s.twoFactorAuth,onChange:a=>l({...s,twoFactorAuth:a.target.checked}),className:"rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"تفعيل المصادقة الثنائية (2FA)"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 mr-7",children:"سيتم إرسال رمز تحقق إلى هاتفك عند تسجيل الدخول"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"سجل النشاط"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"آخر تسجيل دخول"}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700",children:"تاريخ ووقت تسجيل الدخول:"}),e.jsx("p",{className:"text-gray-500",children:"18 أبريل 2025، 10:30 صباحًا"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700",children:"عنوان IP:"}),e.jsx("p",{className:"text-gray-500",children:"192.168.1.1"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700",children:"الجهاز:"}),e.jsx("p",{className:"text-gray-500",children:"Chrome على Windows"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"سجل النشاطات الأخيرة"}),e.jsxs("ul",{className:"space-y-3 mt-2",children:[e.jsx("li",{className:"border-b pb-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"تسجيل دخول ناجح"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"18 أبريل 2025، 10:30 صباحًا"})]})}),e.jsx("li",{className:"border-b pb-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"تغيير إعدادات النظام"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"17 أبريل 2025، 03:15 مساءً"})]})}),e.jsx("li",{className:"border-b pb-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"إضافة بائع جديد"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"15 أبريل 2025، 11:45 صباحًا"})]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"تسجيل دخول ناجح"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"15 أبريل 2025، 09:20 صباحًا"})]})})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"تفضيلات الإخطارات"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"إشعارات البريد الإلكتروني للطلبات الجديدة"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"إشعارات متصفح للطلبات الجديدة"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:!1,className:"rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"إشعارات عند تسجيل دخول جديد"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{children:"تنبيهات أمان الحساب"})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اللغة المفضلة"}),e.jsxs("select",{value:"ar",className:"w-full md:w-64 border rounded-md px-3 py-2",children:[e.jsx("option",{value:"ar",children:"العربية"}),e.jsx("option",{value:"en",children:"English"})]})]})]})]})]})}export{p as default};
